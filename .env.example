# ============================================================
# CORE LLM CONFIGURATION
# ============================================================

# OpenAI API Configuration (Optional - Automatic Fallback)
# --------------------------------------------------------
# The agentic team discussions can use either OpenAI or local Ollama models.
#
# AUTOMATIC FALLBACK TO OLLAMA:
# If no valid OpenAI API key is configured, the system automatically falls back
# to using the local Ollama model (tinyllama:latest). This allows the application
# to work seamlessly in offline environments without any code changes.
#
# To use OpenAI (recommended for production):
# 1. Get your API key from: https://platform.openai.com/api-keys
# 2. Replace "your_openai_api_key_here" with your actual key
# 3. Restart the backend: docker compose restart backend
#
# To use Ollama only (offline mode):
# - Simply leave the key as-is or don't create a .env file
# - The system will automatically use local Ollama
OPENAI_API_KEY=your_openai_api_key_here

# Optional: Specify which OpenAI model to use (default: gpt-4o-mini for speed and cost)
# Options: gpt-4o-mini (recommended), gpt-4o, gpt-3.5-turbo
OPENAI_MODEL=gpt-4o-mini


# ============================================================
# INVESTMENT TEAM PLUGGABLE TOOLS CONFIGURATION
# ============================================================
# The following API keys enable enhanced capabilities for the Investment Team
# All tools have graceful fallbacks - the system works without these keys

# Serper API - Internet Search (Optional)
# --------------------------------------------------------
# Enables real-time Google search for financial news and market data
#
# WITHOUT this key: Uses mock search results (demo mode)
# WITH this key: Real-time Google search via Serper API
#
# How to get:
# 1. Visit: https://serper.dev/
# 2. Sign up for free account (2,500 free searches)
# 3. Get your API key from dashboard
# 4. Paste it below
#
# Used by: SearchTools (search_tools.py)
# - search_internet() - General web search
# - search_news() - Recent news articles
# - search_financial_data() - Stock-specific data
SERPER_API_KEY=your_serper_api_key_here

# Browserless API - Advanced Web Scraping (Optional)
# --------------------------------------------------------
# Enables JavaScript-enabled web scraping for dynamic websites
#
# WITHOUT this key: Uses simple HTTP requests (works for most sites)
# WITH this key: Full browser automation with JavaScript execution
#
# How to get:
# 1. Visit: https://www.browserless.io/
# 2. Sign up for free account (1,000 free requests/month)
# 3. Get your API key from dashboard
# 4. Paste it below
#
# Used by: BrowserTools (browser_tools.py)
# - scrape_website() - Extract content from websites
# - get_company_website_info() - Scrape investor relations pages
# - scrape_and_summarize() - Content extraction and analysis
BROWSERLESS_API_KEY=your_browserless_api_key_here

# SEC API - Company Filings (Optional)
# --------------------------------------------------------
# Enables detailed SEC filing analysis (10-K, 10-Q reports)
#
# WITHOUT this key: Provides free SEC EDGAR links and instructions
# WITH this key: Programmatic access to parsed SEC filings
#
# How to get:
# 1. Visit: https://sec-api.io/
# 2. Sign up for account (100 free requests/month)
# 3. Get your API key from dashboard
# 4. Paste it below
#
# Used by: SECTools (sec_tools.py)
# - get_10k() - Latest annual report (10-K)
# - get_10q() - Latest quarterly report (10-Q)
# - search_filings() - Search across filing types
SEC_API_KEY=your_sec_api_key_here


# ============================================================
# TESTING & DEMO MODE
# ============================================================

# Quick Start (No API Keys Required)
# --------------------------------------------------------
# To test the Investment Team WITHOUT any external API keys:
# 1. Leave all keys as "your_*_api_key_here"
# 2. System will use fallback modes:
#    - OpenAI → Ollama (local LLM)
#    - Serper → Mock search results
#    - Browserless → Simple HTTP scraping
#    - SEC API → Free EDGAR links
# 3. All features work, but with limited data sources
#
# This is perfect for:
# - Development and testing
# - Offline environments
# - Initial demos
# - Learning the system

# Production Deployment (Recommended API Keys)
# --------------------------------------------------------
# For production use with full capabilities:
# ✅ OPENAI_API_KEY - Required for best LLM quality
# ✅ SERPER_API_KEY - Recommended for real market data
# ⚠️ BROWSERLESS_API_KEY - Optional (HTTP usually sufficient)
# ⚠️ SEC_API_KEY - Optional (free EDGAR works well)
#
# Minimum for production: OPENAI_API_KEY + SERPER_API_KEY


# ============================================================
# FRAUD DETECTION TEAM - REAL-WORLD DATA SOURCES
# ============================================================
# The following API keys enable real-time threat intelligence for fraud detection
# All tools have graceful fallbacks - the system works without these keys

# ipgeolocation.io - IP Threat Intelligence (FREE TIER: 30,000/month)
# --------------------------------------------------------
# Enables real-time IP geolocation and security threat detection
#
# WITHOUT this key: Uses mock IP analysis (demo mode)
# WITH this key: Real-time threat intelligence including:
#   - VPN/Proxy/TOR detection
#   - Known attacker IP identification
#   - Geolocation verification
#   - ISP and connection type analysis
#   - Threat scoring (0-100 scale)
#
# How to get:
# 1. Visit: https://ipgeolocation.io/signup.html
# 2. Sign up for free account (30,000 requests/month FREE)
# 3. Get your API key from dashboard
# 4. Paste it below
#
# Free Tier: 30,000 requests/month (1,000/day)
# Cost: FREE for demos, $15/month for 150k requests in production
#
# Used by: RiskTools (risk_tools.py)
# - analyze_geolocation() - IP threat intelligence
IPGEOLOCATION_API_KEY=your_ipgeolocation_api_key_here

# OpenSanctions - OFAC Sanctions Screening (FREE - NO KEY NEEDED)
# --------------------------------------------------------
# Enables real-time sanctions screening against global watchlists
#
# FREE and OPEN SOURCE - No API key required!
# Includes:
#   - OFAC SDN (Specially Designated Nationals)
#   - UN Security Council Sanctions
#   - EU Sanctions
#   - UK Sanctions
#   - PEP (Politically Exposed Persons)
#   - Global watchlists
#
# How to use:
# - Already configured! No signup needed.
# - Uses https://api.opensanctions.org/
# - Updated daily with official government data
#
# Used by: InvestigationTools (investigation_tools.py)
# - check_ofac_sanctions() - Sanctions screening
# NO API KEY NEEDED - Works out of the box!

# Serper API - Already configured above for Investment Team!
# --------------------------------------------------------
# The SAME Serper API key is reused for fraud detection merchant searches
# This means ONE API key powers BOTH investment research AND fraud detection!
#
# Used by: InvestigationTools (investigation_tools.py)
# - search_public_records() - Merchant reputation and fraud reports
# - verify_business_registration() - Business verification via Google search
#
# No additional configuration needed if you already set SERPER_API_KEY above!

# Abstract API - Email Validation (FREE TIER: 100/month)
# --------------------------------------------------------
# Enables comprehensive email verification and fraud detection
#
# WITHOUT this key: Uses basic format validation (demo mode)
# WITH this key: Real-time email validation including:
#   - Disposable email detection
#   - SMTP deliverability check
#   - MX record verification
#   - Quality scoring
#   - Domain reputation analysis
#
# How to get:
# 1. Visit: https://app.abstractapi.com/api/email-verification/tester
# 2. Sign up for free account (100 requests/month FREE)
# 3. Get your API key from dashboard
# 4. Paste it below
#
# Free Tier: 100 requests/month
# Cost: FREE for demos, $9/month for 10k requests
#
# Used by: InvestigationTools (investigation_tools.py)
# - validate_email() - Email fraud detection
ABSTRACTAPI_EMAIL_KEY=your_abstractapi_email_key_here


# ============================================================
# FRAUD DETECTION API SUMMARY
# ============================================================
#
# Quick Start (No API Keys Required):
# --------------------------------------------------------
# To test Fraud Detection WITHOUT any external API keys:
# 1. Leave all keys as "your_*_api_key_here"
# 2. System will use fallback modes:
#    - ipgeolocation.io → Mock IP analysis
#    - OpenSanctions → Still works! (No key needed)
#    - OpenCorporates → Basic free tier (works without key)
#    - Abstract Email → Basic format validation
# 3. All features work, but with limited real-time intelligence
#

# ============================================================
# MODEL CONTEXT PROTOCOL (MCP) - REDUNDANT TOOL FALLBACKS
# ============================================================
# MCP provides additional data sources and redundant tool access
# Enables automatic fallback when primary APIs fail

# Enable MCP Integration (Optional)
# --------------------------------------------------------
# When enabled, provides redundant tools for fraud detection:
# - DuckDuckGo Search MCP: Fallback for Serper API
# - Fetch MCP: Web content retrieval
# - Memory MCP: Fraud pattern storage
# - Filesystem MCP: Fraud case file access
#
# WITHOUT MCP: Serper → Mock fallback
# WITH MCP: Serper → DuckDuckGo MCP → Mock fallback (3-tier redundancy!)
#
# How to enable:
# 1. Set MCP_ENABLED=true
# 2. Ensure Node.js and npm are installed (for MCP servers)
# 3. Backend will auto-connect to MCP servers on startup
# 4. DuckDuckGo MCP provides unlimited free searches (no API key!)
#
# Redundant Fallback Chain Example:
# - Business verification: Serper API → DuckDuckGo MCP → Mock
# - Public records search: Serper API → DuckDuckGo MCP → Mock
#
# Benefits:
# ✅ Higher reliability (3-tier fallback)
# ✅ No additional API signups (DuckDuckGo is free!)
# ✅ Unlimited searches via DuckDuckGo MCP
# ✅ Automatic failover if Serper is down
#
# Default: false (disabled for simplicity)
# Set to: true (to enable redundant MCP fallbacks)
MCP_ENABLED=false

# Optional: Path for fraud case files (if using Filesystem MCP)
MCP_FRAUD_CASES_PATH=/app/fraud_cases
