<!DOCTYPE html>
<html>
<head>
    <title>Markdown Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
        }
        .output {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
        }
        h1 { color: #2c3e50; border-bottom: 2px solid #e0e0e0; padding-bottom: 10px; }
        h2 { color: #34495e; }
        h3 { color: #555; }
        strong { font-weight: 600; color: #2c3e50; }
        ul { padding-left: 2em; }
        li { margin: 0.5em 0; }
    </style>
</head>
<body>
    <h1>Markdown Rendering Test</h1>

    <div class="test-section">
        <h2>Test 1: Library Check</h2>
        <p id="library-status">Checking...</p>
    </div>

    <div class="test-section">
        <h2>Test 2: Simple Markdown</h2>
        <div class="output" id="test-simple"></div>
    </div>

    <div class="test-section">
        <h2>Test 3: Investment Analysis Sample</h2>
        <div class="output" id="test-investment"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/marked@4.3.0/marked.min.js"></script>
    <script>
        // Test 1: Check if marked is loaded
        const statusEl = document.getElementById('library-status');
        if (typeof marked !== 'undefined') {
            statusEl.innerHTML = '<strong style="color: green;">âœ“ marked.js loaded successfully!</strong>';
            statusEl.innerHTML += '<br>Version: ' + (marked.version || 'Unknown');
        } else {
            statusEl.innerHTML = '<strong style="color: red;">âœ— marked.js NOT loaded</strong>';
        }

        // Configure marked
        if (typeof marked !== 'undefined') {
            marked.setOptions({
                breaks: true,
                gfm: true,
                headerIds: false,
                mangle: false
            });

            // Test 2: Simple markdown
            const simpleMarkdown = `
### This is a Heading

This is **bold text** and this is *italic text*.

- Bullet point 1
- Bullet point 2
- Bullet point 3
`;
            document.getElementById('test-simple').innerHTML = marked(simpleMarkdown);

            // Test 3: Investment analysis sample
            const investmentMarkdown = `
ðŸ’° **Financial Analysis & Valuation**

### Financial Health Assessment of Apple Inc. (AAPL)

#### 1. Valuation Metrics
- **P/E Ratio**: As of the latest data, Apple's price-to-earnings (P/E) ratio stands at approximately 28.
- **Price-to-Book Ratio**: The price-to-book (P/B) ratio is approximately 35.

#### 2. Growth Metrics
- **EPS Growth**: Apple has demonstrated a consistent earnings per share (EPS) growth rate of about 10% annually.
- **Revenue Growth Trends**: Revenue growth has averaged around 8% annually.

### Upcoming Events to Watch:

- **Earnings Dates**: Keep an eye on the upcoming quarterly earnings report.
- **Product Launches**: Track the rollout of new digital banking features.
`;
            document.getElementById('test-investment').innerHTML = marked(investmentMarkdown);
        }
    </script>
</body>
</html>
